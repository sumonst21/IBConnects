!function(e){e.fn.autogrow=function(){return this.filter("textarea").each(function(){var t=e(this),i=t.height(),n=(t.css("lineHeight"),e("<div></div>").css({position:"absolute",top:-1e4,left:-1e4,width:e(this).width(),fontSize:t.css("fontSize"),fontFamily:t.css("fontFamily"),lineHeight:t.css("lineHeight"),resize:"none"}).appendTo(document.body)),h=function(){var t=this.value.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/&/g,"&amp;").replace(/\n/g,"<br/>");n.html(t),e(this).css("height",Math.max(n.height()+20,i))};e(this).change(h).keyup(h).keydown(h),h.apply(this)}),this}}(jQuery);